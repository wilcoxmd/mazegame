(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,s){t.exports=s.p+"static/media/goomba.f5af6c3f.png"},12:function(t,e,s){t.exports=s(22)},18:function(t,e,s){},20:function(t,e,s){},22:function(t,e,s){"use strict";s.r(e);var o=s(0),i=s.n(o),a=s(8),r=s.n(a),n=(s(18),s(1)),p=s(2),c=s(4),h=s(3),l=s(5),d=(s(20),s(11)),u=s(6),m=s(9),y=s.n(m),f=s(10),v=s.n(f),L=function(t){function e(t){var s;return Object(n.a)(this,e),(s=Object(c.a)(this,Object(h.a)(e).call(this,t))).state={rowIndex:s.props.rowIndex,colIndex:s.props.colIndex,isPlayerLoc:!1,isSpriteLoc:!1},s}return Object(l.a)(e,t),Object(p.a)(e,[{key:"updateSprites",value:function(t,e){if(e&&e.isPlayerLoc&&this.setState({isPlayerLoc:!1}),this.props.playerLoc){var s=this.props.playerLoc[0],o=this.props.playerLoc[1],i=this.props.rowIndex,a=this.props.colIndex;i===s&&a===o&&!0!==this.state.isPlayerLoc&&(this.setState({isPlayerLoc:!0}),this.state.isSpriteLoc&&this.setState({isSpriteLoc:!1}))}if(this.props.spriteLocs)for(var r=this.props.spriteLocs,n="".concat(this.props.rowIndex,",").concat(this.props.colIndex),p=0;p<r.length;p++){if(r[p].join(",")===n&&!0!==this.state.isSpriteLoc){this.setState({isSpriteLoc:!0});break}r[p].join(",")===n&&!0===this.state.isSpriteLoc&&!0===this.state.isPlayerLoc&&this.setState({isSpriteLoc:!1})}}},{key:"componentDidMount",value:function(t,e){this.updateSprites(t,e)}},{key:"componentDidUpdate",value:function(t,e){this.updateSprites(t,e)}},{key:"render",value:function(){var t;return t=this.state.isSpriteLoc?v.a:"",t=this.state.isPlayerLoc?y.a:t,i.a.createElement("div",{style:{border:"1px solid grey",backgroundColor:"white",backgroundImage:'url("'.concat(t,'")'),backgroundSize:"cover",overflow:"hidden",width:40,height:40},className:this.activeClass})}}]),e}(i.a.Component),w=function(t){function e(){return Object(n.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"shouldComponentUpdate",value:function(t,e){return!this.props.playerLoc||t.playerLoc[0]===this.props.index||this.props.index===this.props.playerLoc[0]}},{key:"render",value:function(){for(var t=this.props.size,e=[],s=0;s<t[1];s++)e.push(i.a.createElement(L,{rowIndex:this.props.index,colIndex:s,playerLoc:this.props.playerLoc,spriteLocs:this.props.spriteLocs,key:[this.props.index,s].toString()}));return i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},className:"row"},e)}}]),e}(i.a.Component),g=function(t){function e(t){var s;return Object(n.a)(this,e),(s=Object(c.a)(this,Object(h.a)(e).call(this,t))).state={playerLoc:void 0,spriteLocs:void 0,totalMoves:0},s.hanldeArrowPress=s.hanldeArrowPress.bind(Object(u.a)(Object(u.a)(s))),s}return Object(l.a)(e,t),Object(p.a)(e,[{key:"setupNewGame",value:function(){for(var t=this.props.size[0],e=this.props.size[1],s=[Math.floor(Math.random()*t),Math.floor(Math.random()*e)],o=new Set,i=0;i<this.props.size[0];i++){var a=Math.floor(Math.random()*this.props.size[0]),r=Math.floor(Math.random()*this.props.size[0]),n="".concat(a,",").concat(r);o.has(n)||a===s[0]&&r===s[1]?i--:o.add(n)}var p=Object(d.a)(o).map(function(t){t=t.split(",");for(var e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t});this.setState({playerLoc:s,spriteLocs:p})}},{key:"componentDidUpdate",value:function(){if(this.state.playerLoc||0===this.props.size[0]||0===this.props.size[1]){if(this.state.spriteLocs)for(var t=this.state.spriteLocs,e=this.state.playerLoc.join(","),s=0;s<t.length;s++)if(e===t[s].join(",")){var o=Array.from(this.state.spriteLocs);o.splice(s,1),this.setState({spriteLocs:o}),console.log("removed sprite!")}}else this.setupNewGame()}},{key:"hanldeArrowPress",value:function(t){t=t||window.event;var e=this.state.playerLoc,s=e[0],o=e[1],i=this.state.totalMoves;38===t.keyCode?(console.log("up!"),--s<=-1&&(s=this.props.size[0]-1)):40===t.keyCode?(console.log("down!"),++s>=this.props.size[0]&&(s=0)):37===t.keyCode?(console.log("left!"),--o<=-1&&(o=this.props.size[1]-1)):39===t.keyCode&&(console.log("right!"),++o>=this.props.size[1]&&(o=0)),this.setState({playerLoc:[s,o],totalMoves:++i})}},{key:"render",value:function(){this.state.spriteLocs&&0===this.state.spriteLocs.length&&this.props.playingGame&&(alert("Game over. Total moves to save princess: ".concat(this.state.totalMoves)),this.props.handleGameOver());var t=this.props.size,e=[];document.onkeydown=this.hanldeArrowPress;for(var s=0;s<t[0];s++)e.push(i.a.createElement(w,{size:this.props.size,index:s,playerLoc:this.state.playerLoc,spriteLocs:this.state.spriteLocs}));return i.a.createElement("div",null,e)}}]),e}(i.a.Component),b=function(t){function e(t){var s;return Object(n.a)(this,e),(s=Object(c.a)(this,Object(h.a)(e).call(this,t))).handleGameOver=function(){s.setState({playingGame:!1})},s.state={playingGame:!1,size:[0,0]},s}return Object(l.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){if(!this.state.playingGame){var t=window.prompt("input game board width"),e=window.prompt("input game board height");this.setState({playingGame:!0,size:[parseInt(t),parseInt(e)]})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(g,{size:this.state.size,startingLoc:this.state.startingLoc,handleGameOver:this.handleGameOver,playingGame:this.state.playingGame}))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,s){t.exports=s.p+"static/media/Paper-Mario-icon.c98f0c23.png"}},[[12,2,1]]]);
//# sourceMappingURL=main.22921c15.chunk.js.map